  <fieldset class="fieldset-border sg-fieldset-surround">
    <legend>
      <h1 class="sg-legend-margin">Drag and Drop Your Preferences</h1>
    </legend>
    <% index = 1 %>
    <%= form_tag category_save_url, :remote => true do %>

      <div class="row-fluid">
        <!-- Pop-up-1 -->
        <div class="column jQueryProfileCategories">
          <header>Offers I Want</header>
          <div class="thumb_div" id="sgCategoryFirst" ondrop="drop_swap(event)" ondragover="allowDrop(event)" data-default-img="1" >
            <%= preference_image(@offer_category_1, 1) %>
          </div>
          <div class="thumb_div" id="sgCategorySecond" ondrop="drop_swap(event)" ondragover="allowDrop(event)" data-default-img="2">
            <%= preference_image(@offer_category_2, 2) %>
          </div>

          <div class="thumb_div" id="sgCategoryThird" ondrop="drop_swap(event)" ondragover="allowDrop(event)" data-default-img="3">
            <%= preference_image(@offer_category_3, 3) %>
          </div>
        </div>

        <!-- Pop-up-2 -->
        <div class="column jQueryProfileCategories">
          <header><%= t('profile.activities_i_like') %></header>
          <div class="thumb_div" id="sgCategory_4" ondrop="drop_swap(event)" ondragover="allowDrop(event)" data-default-img="1">
            <%= preference_image(@suggestion_category_1, 1) %>
          </div>
          <div class="thumb_div" id="sgCategory_5" ondrop="drop_swap(event)" ondragover="allowDrop(event)" data-default-img="2">
            <%= preference_image(@suggestion_category_2, 2) %>
          </div>
          <div class="thumb_div" id="sgCategory_6" ondrop="drop_swap(event)" ondragover="allowDrop(event)" data-default-img="3">
            <%= preference_image(@suggestion_category_3, 3) %>
          </div>
        </div>

        <!-- Pop-up-3 -->
        <div class="column jQueryProfileCategories">
          <header><%= t('profile.i_deserve_this') %></header>
          <div class="thumb_div" id="sgCategory_7" class="" ondrop="drop_swap(event)" ondragover="allowDrop(event)" data-default-img="1">
            <%= preference_image(@you_deserve_it, 1) %>
          </div>
        </div>


        <!-- recycle -->
        <div id="sgCategoryFourth" class="trash_open" draggable="false" ondrop="recycle_bin(event)" ondragover="allowDrop(event)">
        </div>
      </div>

      <hr/>
      <%= hidden_field_tag 'user_profile[offer_category_1]', '', :id => 'jquery-category-1' %>
      <%= hidden_field_tag 'user_profile[offer_category_2]', '', :id => 'jquery-category-2' %>
      <%= hidden_field_tag 'user_profile[offer_category_3]', '', :id => 'jquery-category-3' %>
      <%= hidden_field_tag 'user_profile[suggestion_category_1]', '', :id => 'jquery-category-4' %>
      <%= hidden_field_tag 'user_profile[suggestion_category_2]', '', :id => 'jquery-category-5' %>
      <%= hidden_field_tag 'user_profile[suggestion_category_3]', '', :id => 'jquery-category-6' %>
      <%= hidden_field_tag 'user_profile[you_deserve_it_category]', '', :id => 'jquery-category-7' %>

      <div class="sgCategoryImages" style="height:285px; overflow: auto; margin-top: 1.3%;">

        <div class="row-fluid">
          <div class="span12 columns-full">
            <h2><%= t(:lifestyle).capitalize %></h2>
            <% @lifestyle_categories.each do |category| %>
              <div class="thumb_div" id="<%= category.id %>" data-placement="top" rel="tooltip" data-original-title="<%= get_category_description(category.description) %>" data-animation="true">
                <%= image_tag "/assets/CategoryImages/#{category.photo}",  :class => 'img',:alt => '', :ondragstart => "category_drag(event)", :draggable => "true", "data-category-id" => category.id, "data-dustbin-drop" => 'false' %>
                <% index = index + 1 %>
              </div>
            <% end %>
          </div>
        </div>

        <div class="row-fluid">
          <div class="span12 columns-full">
            <h2><%= t(:shopping).capitalize %></h2>
            <% @shopping_categories.each do |category| %>
              <div class="thumb_div" id="<%= category.id %>">
                <%= image_tag "/assets/CategoryImages/#{category.photo}",  :class => 'img',:alt => '', "data-placement" => "top", "rel" => "tooltip", "data-original-title" => get_category_description(category.description), "data-animation" => "true", :ondragstart => "category_drag(event)", :draggable => "true", "data-category-id" => category.id, "data-dustbin-drop" => 'false' %>
                <% index = index + 1 %>
              </div>
            <% end %>
          </div>
        </div>

        <div class="row-fluid">
          <div class="span12 columns-full">
            <h2><%= t(:food_and_beverage) %></h2>
            <% @food_categories.each do |category| %>
              <div class="thumb_div" id="<%= category.id %>">
                <%= image_tag "/assets/CategoryImages/#{category.photo}", :class => 'img', :alt => '', "data-placement" => "top", "rel" => "tooltip", "data-original-title" => get_category_description(category.description), "data-animation" => "true", :ondragstart => "category_drag(event)", :draggable => "true" , "data-category-id" => category.id, "data-dustbin-drop" => 'false' %>
                <% index = index + 1 %>
              </div>
            <% end %>
          </div>
        </div>

        <div class="row-fluid">
          <div class="span12 columns-full">
            <h2><%= t(:travel).capitalize %></h2>
            <% @travel_categories.each do |category| %>
              <div class="thumb_div" id="<%= category.id %>">
                <%= image_tag "/assets/CategoryImages/#{category.photo}",:class => 'img',:alt => '', "data-placement" => "top", "rel" => "tooltip", "data-original-title" => get_category_description(category.description), "data-animation" => "true", :ondragstart => "category_drag(event)", :draggable => "true", "data-category-id" => category.id, "data-dustbin-drop" => 'false' %>
                <% index = index + 1 %>
              </div>
            <% end %>
          </div>
        </div>

        <div class="row-fluid">
          <div class="span12 columns-full">
            <h2><%= t(:business_and_services) %></h2>
            <% @business_categories.each do |category| %>
              <div class="thumb_div" id="<%= category.id %>">
                <%= image_tag "/assets/CategoryImages/#{category.photo}", :class => 'img',:alt => '', "data-placement" => "top", "rel" => "tooltip", "data-original-title" => get_category_description(category.description), "data-animation" => "true", :ondragstart => "category_drag(event)", :draggable => "true", "data-category-id" => category.id, "data-dustbin-drop" => 'false' %>
                <% index = index + 1 %>
              </div>
            <% end %>
          </div>
        </div>

      </div>
      <hr/>
      <div class="row-fluid">
        <div class="float_r category-btn-margin" style="margin-right:15px;">
          <%= link_to t(:cancel), '#', :class => 'jQueryFancyboxClose btn btn-info cancelbtn', :style => 'height:21px;' %>
        </div>
        <div class="float_r">
          <button class="jQueryCategorySubmit btn btn-info savebtn category-btn-margin" type="submit" style=""><%= t(:save) %></button>
        </div>
      </div>
    <% end %>
  </fieldset>

<script type="text/javascript">
  jQuery(document).ready(function($){
    $('.jQueryCategorySubmit').click(function(event){
      $('#jquery-category-1').val($('#sgCategoryFirst').find('img').attr('data-category-id'));
      $('#jquery-category-2').val($('#sgCategorySecond').find('img').attr('data-category-id'));
      $('#jquery-category-3').val($('#sgCategoryThird').find('img').attr('data-category-id'));
      $('#jquery-category-4').val($('#sgCategory_4').find('img').attr('data-category-id'));
      $('#jquery-category-5').val($('#sgCategory_5').find('img').attr('data-category-id'));
      $('#jquery-category-6').val($('#sgCategory_6').find('img').attr('data-category-id'));
      $('#jquery-category-7').val($('#sgCategory_7').find('img').attr('data-category-id'));
      return;
    });
    if ($("[rel=tooltip]").length) {
      $("[rel=tooltip]").tooltip();
    }

  });
</script>
